<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Building Multi-Architecture AWS Lambda Functions with Bref PHP and PostgreSQL - Marc Guyer</title><meta name=description content="The Multi-Architecture Challenge
With the rise of Apple Silicon (ARM64) and the continued use of Intel-based (x86_64) systems, developers face increasing challenges in creating applications that work seamlessly across both architectures. This is especially true for PHP developers working with AWS Lambda, where subtle differences can lead to frustrating issues.
Example with Bref PHP Runtime + PDO PostgreSQL Extension
To address these challenges, I&rsquo;ve created a comprehensive example repository that demonstrates a working multi-architecture implementation of PHP Lambda functions using Bref and PDO PostgreSQL. This example focuses on:"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Marc Guyer","url":"\/\/marc.guyer.me\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"\/\/marc.guyer.me\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"\/\/marc.guyer.me\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"\/\/marc.guyer.me\/posts\/bref-php-pdo-postgresql-multi-architecture-example\/","name":"Building multi architecture aws lambda functions with bref php and postgre SQL"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":""},"headline":"Building Multi-Architecture AWS Lambda Functions with Bref PHP and PostgreSQL","description":"The Multi-Architecture Challenge With the rise of Apple Silicon (ARM64) and the continued use of Intel-based (x86_64) systems, developers face increasing challenges in creating applications that work seamlessly across both architectures. This is especially true for PHP developers working with AWS Lambda, where subtle differences can lead to frustrating issues.\nExample with Bref PHP Runtime \u002b PDO PostgreSQL Extension To address these challenges, I\u0026rsquo;ve created a comprehensive example repository that demonstrates a working multi-architecture implementation of PHP Lambda functions using Bref and PDO PostgreSQL. This example focuses on:\n","inLanguage":"en","wordCount":601,"datePublished":"2024-05-15T12:00:00-04:00","dateModified":"2025-05-17T09:20:53-04:00","image":"https:\/\/www.gravatar.com\/avatar\/e96773ada2643a59cf32d6e1407a7cc8?s=512","keywords":["php, aws, lambda, bref, postgresql, docker, arm64, apple-silicon"],"mainEntityOfPage":"\/\/marc.guyer.me\/posts\/bref-php-pdo-postgresql-multi-architecture-example\/","publisher":{"@type":"Organization","name":"\/\/marc.guyer.me\/","logo":{"@type":"ImageObject","url":"https:\/\/www.gravatar.com\/avatar\/e96773ada2643a59cf32d6e1407a7cc8?s=512","height":60,"width":60}}}</script><meta property="og:title" content="Building Multi-Architecture AWS Lambda Functions with Bref PHP and PostgreSQL"><meta property="og:description" content="The Multi-Architecture Challenge
With the rise of Apple Silicon (ARM64) and the continued use of Intel-based (x86_64) systems, developers face increasing challenges in creating applications that work seamlessly across both architectures. This is especially true for PHP developers working with AWS Lambda, where subtle differences can lead to frustrating issues.
Example with Bref PHP Runtime + PDO PostgreSQL Extension
To address these challenges, I&rsquo;ve created a comprehensive example repository that demonstrates a working multi-architecture implementation of PHP Lambda functions using Bref and PDO PostgreSQL. This example focuses on:"><meta property="og:image" content="https://www.gravatar.com/avatar/e96773ada2643a59cf32d6e1407a7cc8?s=512"><meta property="og:url" content="//marc.guyer.me/posts/bref-php-pdo-postgresql-multi-architecture-example/"><meta property="og:type" content="website"><meta property="og:site_name" content="Marc Guyer"><meta name=twitter:title content="Building Multi-Architecture AWS Lambda Functions with Bref PHP and …"><meta name=twitter:description content="The Multi-Architecture Challenge
With the rise of Apple Silicon (ARM64) and the continued use of Intel-based (x86_64) systems, developers face increasing challenges in creating applications that work …"><meta name=twitter:image content="https://www.gravatar.com/avatar/e96773ada2643a59cf32d6e1407a7cc8?s=512"><meta name=twitter:card content="summary_large_image"><link href='https://www.gravatar.com/avatar/e96773ada2643a59cf32d6e1407a7cc8?s=512' rel=icon type=image/x-icon><meta name=generator content="Hugo 0.147.8"><link rel=alternate href=//marc.guyer.me/index.xml type=application/rss+xml title="Marc Guyer"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.6.0/css/all.css integrity=sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><link rel=stylesheet href=//marc.guyer.me/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=//marc.guyer.me/css/syntax.css><link rel=stylesheet href=//marc.guyer.me/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-VQCK8DJZ8Y"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VQCK8DJZ8Y")</script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=//marc.guyer.me/>Marc Guyer</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Posts href=/posts/>Posts</a></li><li><a title=About href=/about/>About</a></li><li><a title=Contact href=/contact/>Contact</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Marc Guyer" href=//marc.guyer.me/><img class=avatar-img src="https://www.gravatar.com/avatar/e96773ada2643a59cf32d6e1407a7cc8?s=512" alt="Marc Guyer"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-heading><h1>Building Multi-Architecture AWS Lambda Functions with Bref PHP and PostgreSQL</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><h2 id=the-multi-architecture-challenge>The Multi-Architecture Challenge</h2><p>With the rise of Apple Silicon (ARM64) and the continued use of Intel-based (x86_64) systems, developers face increasing challenges in creating applications that work seamlessly across both architectures. This is especially true for PHP developers working with AWS Lambda, where subtle differences can lead to frustrating issues.</p><h2 id=example-with-bref-php-runtime--pdo-postgresql-extension>Example with Bref PHP Runtime + PDO PostgreSQL Extension</h2><p>To address these challenges, I&rsquo;ve created a comprehensive example repository that demonstrates a working multi-architecture implementation of PHP Lambda functions using <a href=https://bref.sh/>Bref</a> and PDO PostgreSQL. This example focuses on:</p><ol><li><strong>Automatic architecture detection</strong> to apply the correct configuration</li><li><strong>Multi-architecture Docker containers</strong> for testing on both platforms</li><li><strong>Architecture-specific PHP configuration</strong> for PDO PostgreSQL</li><li><strong>Support for both Lambda Function URLs and API Gateway</strong></li></ol><p>The repository is available on GitHub: <a href=https://github.com/marcguyer/bref-php-pdo-pgsql-example>bref-php-pdo-pgsql-example</a></p><h2 id=key-architectural-differences>Key Architectural Differences</h2><p>Through extensive testing, I identified critical architecture-specific behaviors that affect PHP Lambda functions:</p><h3 id=pdo-postgresql-extension-loading>PDO PostgreSQL Extension Loading</h3><ul><li><strong>ARM64 (using bref/arm-php-82:2)</strong>: PDO PostgreSQL is available by default without explicit loading</li><li><strong>x86_64 (using bref/php-82:2)</strong>: PDO PostgreSQL must be explicitly loaded with <code>extension=pdo_pgsql</code></li></ul><p>These differences can cause mysterious failures where a function that works perfectly in one environment fails silently in another.</p><h3 id=architecture-specific-php-configuration>Architecture-Specific PHP Configuration</h3><p>The solution involves using architecture-specific PHP .ini files:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#75715e># ARM64 Configuration</span>
</span></span><span style=display:flex><span><span style=color:#75715e>; DO NOT load pdo_pgsql here as it&#39;s already loaded by default on ARM64</span>
</span></span><span style=display:flex><span><span style=color:#75715e>; extension=pdo_pgsql</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># x86_64 Configuration</span>
</span></span><span style=display:flex><span><span style=color:#75715e>; Load PDO PostgreSQL extension - REQUIRED on x86_64</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>extension</span><span style=color:#f92672>=</span><span style=color:#e6db74>pdo_pgsql</span>
</span></span></code></pre></td></tr></table></div></div><p>These configurations are selected at Docker build time based on the detected architecture.</p><h2 id=docker-compose-for-local-testing>Docker Compose for Local Testing</h2><p>The example includes a complete Docker Compose setup that:</p><ol><li>Automatically detects your architecture and uses the appropriate configuration</li><li>Provides containers for both Function URL and API Gateway handlers</li><li>Includes emulated x86_64 containers for testing on ARM64 machines</li><li>Makes it easy to test PostgreSQL connectivity in a local environment</li></ol><p>Here&rsquo;s a simplified version of the architecture detection script:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># Detect the current architecture</span>
</span></span><span style=display:flex><span>ARCH<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>uname -m<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$ARCH<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;arm64&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Detected ARM64 architecture&#34;</span>
</span></span><span style=display:flex><span>    export LAMBDA_PLATFORM<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;linux/arm64&#34;</span>
</span></span><span style=display:flex><span>    export LAMBDA_DOCKERFILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Dockerfile&#34;</span>
</span></span><span style=display:flex><span>    export LAMBDA_API_DOCKERFILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Dockerfile.api&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Detected x86_64 architecture&#34;</span>
</span></span><span style=display:flex><span>    export LAMBDA_PLATFORM<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;linux/amd64&#34;</span>
</span></span><span style=display:flex><span>    export LAMBDA_DOCKERFILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Dockerfile.x86&#34;</span>
</span></span><span style=display:flex><span>    export LAMBDA_API_DOCKERFILE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Dockerfile.api.x86&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=two-lambda-deployment-approaches>Two Lambda Deployment Approaches</h2><p>The example demonstrates both major Lambda deployment approaches:</p><h3 id=1-lambda-function-urls>1. Lambda Function URLs</h3><ul><li>Direct HTTP access to Lambda functions without API Gateway</li><li>More cost-effective for simple endpoints</li><li>Uses Bref&rsquo;s <code>Handler</code> interface</li></ul><h3 id=2-api-gateway>2. API Gateway</h3><ul><li>Uses Amazon API Gateway to route requests to Lambda</li><li>More features for API management</li><li>Implements PSR-15&rsquo;s <code>RequestHandlerInterface</code></li></ul><p>Both handlers share common logic through the <code>PdoTester</code> class, which demonstrates comprehensive PostgreSQL connection testing.</p><h2 id=key-takeaways-for-developers>Key Takeaways for Developers</h2><p>From building this example, I learned several important lessons:</p><ol><li><strong>Always test on both architectures</strong> - What works on one platform may fail on another</li><li><strong>Use architecture detection</strong> in your build pipeline to apply the correct configurations</li><li><strong>Understand extension loading differences</strong> between ARM64 and x86_64 Bref environments</li><li><strong>Use Docker&rsquo;s multi-architecture support</strong> for comprehensive local testing</li></ol><h2 id=getting-started>Getting Started</h2><p>To try the example yourself:</p><ol><li>Clone the repository: <code>git clone https://github.com/marcguyer/bref-php-pdo-pgsql-example.git</code></li><li>Start the containers: <code>docker compose up -d</code></li><li>Test the function: <code>./invoke.sh local lambda</code></li></ol><p>The example includes detailed documentation on advanced scenarios like forcing x86_64 emulation and deploying to AWS.</p><h2 id=conclusion>Conclusion</h2><p>As more developers adopt Apple Silicon machines while still deploying to x86_64 Lambda environments, understanding these architectural differences becomes increasingly important. This example aims to provide a clear path to building PHP Lambda functions that work reliably on both architectures.</p><p>By sharing these insights and patterns, I hope to save other developers the time and frustration of debugging architecture-specific issues in their serverless PHP applications.</p><div class=blog-tags><a href=//marc.guyer.me//tags/php/>php</a>&nbsp;
<a href=//marc.guyer.me//tags/aws/>aws</a>&nbsp;
<a href=//marc.guyer.me//tags/lambda/>lambda</a>&nbsp;
<a href=//marc.guyer.me//tags/bref/>bref</a>&nbsp;
<a href=//marc.guyer.me//tags/postgresql/>postgresql</a>&nbsp;
<a href=//marc.guyer.me//tags/docker/>docker</a>&nbsp;
<a href=//marc.guyer.me//tags/arm64/>arm64</a>&nbsp;
<a href=//marc.guyer.me//tags/apple-silicon/>apple-silicon</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=%2f%2fmarc.guyer.me%2fposts%2fbref-php-pdo-postgresql-multi-architecture-example%2f&amp;text=Building%20Multi-Architecture%20AWS%20Lambda%20Functions%20with%20Bref%20PHP%20and%20PostgreSQL&amp;via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=%2f%2fmarc.guyer.me%2fposts%2fbref-php-pdo-postgresql-multi-architecture-example%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=%2f%2fmarc.guyer.me%2fposts%2fbref-php-pdo-postgresql-multi-architecture-example%2f&amp;title=Building%20Multi-Architecture%20AWS%20Lambda%20Functions%20with%20Bref%20PHP%20and%20PostgreSQL" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=%2f%2fmarc.guyer.me%2fposts%2fbref-php-pdo-postgresql-multi-architecture-example%2f&amp;title=Building%20Multi-Architecture%20AWS%20Lambda%20Functions%20with%20Bref%20PHP%20and%20PostgreSQL" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=%2f%2fmarc.guyer.me%2fposts%2fbref-php-pdo-postgresql-multi-architecture-example%2f&amp;title=Building%20Multi-Architecture%20AWS%20Lambda%20Functions%20with%20Bref%20PHP%20and%20PostgreSQL" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=%2f%2fmarc.guyer.me%2fposts%2fbref-php-pdo-postgresql-multi-architecture-example%2f&amp;description=Building%20Multi-Architecture%20AWS%20Lambda%20Functions%20with%20Bref%20PHP%20and%20PostgreSQL" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section><h4 class=see-also>See also</h4><ul><li><a href=/posts/mezzio-example/testing-doctrine-entities-and-repositories/>Mezzio Example: Testing Doctrine Entities and Repositories</a></li><li><a href=/posts/mezzio-example/doctrine-entities-and-repositories/>Mezzio Example: Doctrine Entities and Repositories</a></li><li><a href=/posts/mezzio-example/psalm-introduction/>Mezzio Example: Psalm Introduction</a></li><li><a href=/posts/mezzio-example/functional-and-unit-testing/>Mezzio Example: Functional and Unit Testing</a></li><li><a href=/posts/mezzio-example/introduction/>Mezzio Example: Introduction</a></li></ul></article><ul class="pager blog-pager"><li class=previous><a href=//marc.guyer.me/posts/mezzio-example/testing-doctrine-entities-and-repositories/ data-toggle=tooltip data-placement=top title="Mezzio Example: Testing Doctrine Entities and Repositories">&larr; Previous Post</a></li></ul><div class=disqus-comments><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//marcguyer.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"></ul><p class="credits copyright text-muted">&nbsp;&bull;&nbsp;&copy;
2025
&nbsp;&bull;&nbsp;
<a href=//marc.guyer.me/>Marc Guyer</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.147.8</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
&nbsp;&bull;&nbsp;[<a href=https://github.com/marcguyer/marcguyer.github.io/commit/6b1c9d925ed1cd73efc6884a3e3f9e4e92ea750a>6b1c9d92</a>]</p></div></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://code.jquery.com/jquery-3.7.0.slim.min.js integrity=sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script><script src=//marc.guyer.me/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=//marc.guyer.me/js/load-photoswipe.js></script></body></html>